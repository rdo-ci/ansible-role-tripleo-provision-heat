parameters:
  os_user: {{ provisioner.username }}
  os_password: {{ provisioner.password }}
  os_tenant: {{ provisioner.tenant_name }}
  os_auth_url: {{ provisioner.auth_url }}

  bmc_flavor: {{provisioner.nodes.bmc.flavor_name }}
  bmc_image: {{ provisioner.nodes.bmc.image_name }}
  bmc_prefix: {{provisioner.nodes.bmc.name }}

  baremetal_flavor: {{ provisioner.nodes.baremetal.flavor_name }}
  baremetal_image: {{ provisioner.nodes.baremetal.image_name }}
  baremetal_prefix: {{provisioner.nodes.baremetal.name }}

  key_name: {{ provisioner.key_name }}
  private_net: {{ provisioner.network.network_list.private.name }}
  node_count: {{ installer.nodes.node_count | default( "{{ provisioner.nodes.baremetal.node_count }}" ) }}
  public_net: {{ provisioner.network.network_list.public.name }}
  provision_net: {{ provisioner.network.network_list.provision.name }}

  # QuintupleO-specific params ignored by virtual-baremetal.yaml
  undercloud_name: {{ provisioner.nodes.undercloud.name }}
  undercloud_image: {{ provisioner.nodes.undercloud.image_name }}
  undercloud_flavor: {{ provisioner.nodes.undercloud.flavor_name}}
  external_net: {{ provisioner.network.external_net_name }}
  undercloud_user_data: |
        #!/bin/sh
        sed -i "s/no-port-forwarding.*sleep 10\" //" /root/.ssh/authorized_keys

#parameter_defaults:
## Uncomment and customize the following to use an existing floating ip
#  undercloud_floating_ip_id: 'uuid of floating ip'
#  undercloud_floating_ip: 'address of floating ip'

resource_registry:
## Uncomment the following to use an existing floating ip
#  OS::OVB::UndercloudFloating: templates/undercloud-floating-existing.yaml

## Uncomment the following to use no floating ip
#  OS::OVB::UndercloudFloating: templates/undercloud-floating-none.yaml

## Uncomment the following to create a private network
  OS::OVB::PrivateNetwork: templates/private-net-create.yaml

## Uncomment to create all networks required for network-isolation.
## parameter_defaults should be used to override default parameter values
## in baremetal-networks-all.yaml
  OS::OVB::BaremetalNetworks: templates/baremetal-networks-all.yaml
  OS::OVB::BaremetalPorts: templates/baremetal-ports-all.yaml

## Uncomment to deploy a quintupleo environment without an undercloud.
#  OS::OVB::UndercloudEnvironment: OS::Heat::None
